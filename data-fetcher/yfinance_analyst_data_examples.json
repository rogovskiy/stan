{
  "description": "Example JSON structures from yfinance analyst prediction/forecast APIs",
  "ticker": "AAPL",
  "fetched_at": "2024-11-18",
  
  "analyst_price_targets": {
    "description": "Current analyst price targets for the stock",
    "source_method": "ticker.get_analyst_price_targets()",
    "data": {
      "current": 278.85,
      "high": 345.0,
      "low": 215.0,
      "mean": 281.74805,
      "median": 280.0
    },
    "notes": "Returns current price, high/low/mean/median analyst targets. Note: does not include number of analysts."
  },

  "recommendations_summary": {
    "description": "Summary of analyst recommendations over time (aggregated counts by period)",
    "source_method": "ticker.get_recommendations_summary()",
    "data": {
      "period": {
        "0": "0m",
        "1": "-1m",
        "2": "-2m",
        "3": "-3m"
      },
      "strongBuy": {
        "0": 5,
        "1": 5,
        "2": 5,
        "3": 5
      },
      "buy": {
        "0": 24,
        "1": 24,
        "2": 23,
        "3": 22
      },
      "hold": {
        "0": 15,
        "1": 15,
        "2": 15,
        "3": 15
      },
      "sell": {
        "0": 1,
        "1": 1,
        "2": 1,
        "3": 1
      },
      "strongSell": {
        "0": 3,
        "1": 3,
        "2": 3,
        "3": 1
      }
    },
    "notes": "Shows aggregated recommendation counts by time period. Periods are relative (0m = current month, -1m = 1 month ago, etc.)"
  },

  "recommendations_by_period": {
    "description": "Recommendations broken down by period (array format)",
    "source_method": "ticker.get_recommendations()",
    "data": [
      {
        "index": 0,
        "period": "0m",
        "strongBuy": 5,
        "buy": 24,
        "hold": 15,
        "sell": 1,
        "strongSell": 3
      },
      {
        "index": 1,
        "period": "-1m",
        "strongBuy": 5,
        "buy": 24,
        "hold": 15,
        "sell": 1,
        "strongSell": 3
      }
    ],
    "notes": "Same data as recommendations_summary but in array format. Limited to recent periods (typically 3-4 months). Note: yfinance does NOT provide individual analyst recommendation records (firm names, dates of individual recommendations). Only aggregated counts."
  },

  "growth_estimates": {
    "description": "Revenue and earnings growth estimates for current and future quarters/years",
    "source_method": "ticker.get_growth_estimates()",
    "data": {
      "stockTrend": {
        "0q": 0.1078,
        "+1q": 0.1126,
        "0y": 0.10479999,
        "+1y": 0.105900005,
        "LTG": null
      },
      "indexTrend": {
        "0q": 0.1505,
        "+1q": 0.0677,
        "0y": 0.1096,
        "+1y": 0.14479999,
        "LTG": 0.122
      }
    },
    "field_explanations": {
      "0q": "Current quarter growth",
      "+1q": "Next quarter growth",
      "0y": "Current year growth",
      "+1y": "Next year growth",
      "LTG": "Long-term growth (may be null)",
      "stockTrend": "Growth estimates for the stock",
      "indexTrend": "Growth estimates for the index/sector (for comparison)"
    },
    "notes": "Values are decimal ratios (0.1078 = 10.78% growth)"
  },

  "earnings_estimate": {
    "description": "Detailed earnings per share (EPS) estimates for current and future periods",
    "source_method": "ticker.get_earnings_estimate()",
    "data": {
      "avg": {
        "0q": 2.66315,
        "+1q": 1.84361,
        "0y": 8.25269,
        "+1y": 9.10215
      },
      "low": {
        "0q": 2.51,
        "+1q": 1.7,
        "0y": 7.76,
        "+1y": 8.3
      },
      "high": {
        "0q": 2.8,
        "+1q": 2.15,
        "0y": 9.0,
        "+1y": 10.1
      },
      "yearAgoEps": {
        "0q": 2.4,
        "+1q": 1.65,
        "0y": 7.46,
        "+1y": 8.25269
      },
      "numberOfAnalysts": {
        "0q": 30,
        "+1q": 28,
        "0y": 40,
        "+1y": 38
      },
      "growth": {
        "0q": 0.1096,
        "+1q": 0.1173,
        "0y": 0.106300004,
        "+1y": 0.1029
      }
    },
    "field_explanations": {
      "0q": "Current quarter",
      "+1q": "Next quarter",
      "0y": "Current year",
      "+1y": "Next year",
      "avg": "Average/consensus EPS estimate",
      "low": "Lowest analyst estimate",
      "high": "Highest analyst estimate",
      "yearAgoEps": "Actual EPS from same period last year",
      "numberOfAnalysts": "Number of analysts providing estimates",
      "growth": "Year-over-year growth estimate (as decimal ratio)"
    }
  },

  "earnings_history": {
    "description": "Historical earnings with actuals vs estimates (includes surprise data)",
    "source_method": "ticker.get_earnings_history()",
    "data": [
      {
        "quarter": "2024-12-31 00:00:00",
        "epsActual": 2.4,
        "epsEstimate": 2.34102,
        "epsDifference": 0.06,
        "surprisePercent": 0.0252
      },
      {
        "quarter": "2025-03-31 00:00:00",
        "epsActual": 1.65,
        "epsEstimate": 1.62253,
        "epsDifference": 0.03,
        "surprisePercent": 0.016900001
      },
      {
        "quarter": "2025-06-30 00:00:00",
        "epsActual": 1.57,
        "epsEstimate": 1.42572,
        "epsDifference": 0.14,
        "surprisePercent": 0.1012
      }
    ],
    "field_explanations": {
      "quarter": "Quarter end date (datetime string)",
      "epsActual": "Actual reported EPS",
      "epsEstimate": "Analyst consensus estimate before earnings",
      "epsDifference": "Actual - Estimate",
      "surprisePercent": "Surprise percentage (as decimal ratio, e.g., 0.0252 = 2.52%)"
    },
    "notes": "Limited to recent quarters (typically 4-8 quarters). Note: May include future dates if earnings haven't been reported yet (those would have null epsActual)."
  },

  "info_analyst_fields": {
    "description": "Additional analyst fields available in the ticker.info dictionary",
    "source_method": "ticker.info",
    "data": {
      "targetHighPrice": 345.0,
      "targetLowPrice": 215.0,
      "targetMeanPrice": 281.74805,
      "targetMedianPrice": 280.0,
      "recommendationMean": 2.0,
      "recommendationKey": "buy",
      "numberOfAnalystOpinions": 41,
      "averageAnalystRating": "2.0 - Buy"
    },
    "field_explanations": {
      "targetHighPrice": "Highest analyst price target",
      "targetLowPrice": "Lowest analyst price target",
      "targetMeanPrice": "Mean analyst price target",
      "targetMedianPrice": "Median analyst price target",
      "recommendationMean": "Numeric recommendation (1=Strong Buy, 2=Buy, 3=Hold, 4=Sell, 5=Strong Sell)",
      "recommendationKey": "Text recommendation key",
      "numberOfAnalystOpinions": "Total number of analysts providing ratings",
      "averageAnalystRating": "Formatted average rating string"
    },
    "notes": "These fields are also available in ticker.info alongside many other company data fields."
  },

  "limitations_and_notes": {
    "data_window": "Yahoo Finance provides limited historical windows (typically 3-4 months for recommendations, 4-8 quarters for earnings history). This is why we need to accumulate data over time.",
    "individual_recommendations": "yfinance does NOT provide individual analyst recommendation records with firm names and dates. Only aggregated counts by time period are available.",
    "historical_data": "Historical analyst predictions/forecasts are limited. We should fetch and store data regularly to build a historical database.",
    "data_freshness": "Data may be cached by yfinance. Fresh data requires API calls to Yahoo Finance.",
    "missing_data": "Some fields may be null/NaN if not available for a particular ticker or period."
  }
}

